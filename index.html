<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terrafirmacraft Alloy Guide</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #4CAF50;
            color: white;
            padding: 10px 0;
            text-align: center;
        }
        nav {
            margin: 10px;
            text-align: center;
        }
        nav a {
            color: #4CAF50;
            text-decoration: none;
            margin: 0 15px;
        }
        section {
            padding: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        img {
            max-width: 100%;
            height: auto;
        }
        iframe {
            display: block;
            width: 100%;
            height: 300px;
            margin-top: 20px;
        }
        footer {
            background-color: #4CAF50;
            color: white;
            text-align: center;
            padding: 10px 0;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<header>
    <h1>TerrafirmaGreg Alloy Guide</h1>
</header>

<nav>
    <a href="#table">Ore Percentages And The Alloy They Make</a>
    <a href="#guide">Alloy Calculator</a>
    <a href="#video">Tutorial Video</a>
</nav>

<section id="intro">
    <h2>Welcome to the TerrafrimaGreg Alloy Guide!</h2>
    <p>TerrafirmaGreg is a minecraft modpack with advanced recipe and crafts requiring different alloys like bronze and brass,theses various alloys are created by combining ores different proportions.This website will help understand the ore and percentage of each ore you need to make that alloy.There is a built in Alloy calculator so you can get the correct ratios for your crafting needs.</p>
</section>

<section id="table">
    <h2>Ore Percentage Table</h2>
    <p>Here is a table of the early Alloies and ores that are needed to progress through out the modpack. It shows how much perecntage you need of a certian ore and what alloy it makes when combinded with a different ore. Each Ore has a link to the Terrairmacraft wiki to learn more about it.</p>
    <table>
        <tr>
            <th>Alloy</th>
            <th>Ore</th>
            <th>Percentage</th> 
        </tr>
        <tr>
            <td>
                <img src="Images/Grid_Unshaped_Bronze.png" alt="Bronze Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Bronze">
            Bronze
        </a>
            </td>
            <td>
                <img src="Images/Grid_Unshaped_Copper.png" alt="Copper Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Copper">
            Copper
        </a>
        </td>
            <td>88-92%</td>   
        </tr>
        <tr>
            <td></td>
            <td>
                <img src="Images/Grid_Unshaped_Tin.png" alt="Tin Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Tin">
            Tin
        </a>
        </td>
            <td>8-12%</td>    
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>
                <img src="Images/Grid_Unshaped_Copper.png" alt="Copper Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Brass">
            Brass
        </a>
        </td>
            <td><img src="Images/Grid_Unshaped_Copper.png" alt="Copper Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Copper">
            Copper
        </a>
        </td>
            <td>88-92%</td>
        </tr>
        <tr>
            <td></td>
            <td><img src="Images/Grid_Unshaped_Zinc.png" alt="Zinc Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Zinc">
            Zinc
        </a>
        </td>
            <td>8-12%</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><img src="Images/Grid_Unshaped_Rose_Gold.png" alt="Copper Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Rose_Gold">
            Rose Gold
        </a>
        </td>
            <td><img src="Images/Grid_Unshaped_Copper.png" alt="Copper Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Copper">
            Copper</a>
        </td>
            <td>15-30%</td>
        </tr>
        <tr>
            <td></td>
            <td><img src="Images/Grid_Unshaped_Gold.png" alt="Gold Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Gold">
            Gold</a>
        </td>
            <td>70-85%</td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td><img src="Images/Grid_Unshaped_Sterling_Silver.png" alt="Sterling Silver Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Sterling_Silver">
            Sterling Silver</a></td>
            <td><img src="Images/Grid_Unshaped_Copper.png" alt="Copper Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Copper">
            Copper</a></td>
            <td>20-40%</td>
        </tr>
        <tr>
            <td></td>
            <td><img src="Images/Grid_Unshaped_Silver.png" alt="Silver Icon" style="width: 20px; height: 20px; vertical-align: middle;">
                <a href="https://1710-wiki.terrafirmacraft.com/Silver">
            Silver</a></td>
            <td>60-80%</td>
        </tr>
    </table>
</section>

<section id="guide">
    <h2>Alloy Calculator</h2>
    <p>Here is a working alloy calculator to help you figure out how much of a certian ore you need to make the alloy you are looking for.this is for early game use as it is only a 4 slots which a Ceramic Vessel Has. You can only have a max of 16 in each slot.</p>
    <div class="grid">
        <div class="grid-item">
            <label for="oreType1">Select Ore:</label>
            <select id="oreType1" onchange="updateSubtypes(1)">
                <option value="none">Select Ore</option>
                <option value="copper">Copper</option>
                <option value="zinc">Sphalerite(Zinc)</option>
                <option value="silver">Silver</option>
                <option value="gold">Gold</option>
                <option value="tin">Cassiterite(Tin)</option>
            </select>

            <label for="subtype1">Select Subtype:</label>
            <select id="subtype1">
                <!-- Subtype options will be populated based on the ore selected -->
            </select>

            <input type="number" id="qty1" placeholder="Enter quantity">
        </div>

        <!-- Repeat for other slots -->
        <div class="grid-item">
            <label for="oreType2">Select Ore:</label>
            <select id="oreType2" onchange="updateSubtypes(2)">
                <option value="none">Select Ore</option>
                <option value="copper">Copper</option>
                <option value="zinc">Sphalerite(Zinc)</option>
                <option value="silver">Silver</option>
                <option value="gold">Gold</option>
                <option value="tin">Cassiterite(Tin)</option>
            </select>

            <label for="subtype2">Select Subtype:</label>
            <select id="subtype2">
                <!-- Subtype options will be populated based on the ore selected -->
            </select>

            <input type="number" id="qty2" placeholder="Enter quantity">
        </div>

        <div class="grid-item">
            <label for="oreType3">Select Ore:</label>
            <select id="oreType3" onchange="updateSubtypes(3)">
                <option value="none">Select Ore</option>
                <option value="copper">Copper</option>
                <option value="zinc">Sphalerite(Zinc)</option>
                <option value="silver">Silver</option>
                <option value="gold">Gold</option>
                <option value="tin">Cassiterite(Tin)</option>
            </select>

            <label for="subtype3">Select Subtype:</label>
            <select id="subtype3">
                <!-- Subtype options will be populated based on the ore selected -->
            </select>

            <input type="number" id="qty3" placeholder="Enter quantity">
        </div>

        <div class="grid-item">
            <label for="oreType4">Select Ore:</label>
            <select id="oreType4" onchange="updateSubtypes(4)">
                <option value="none">Select Ore</option>
                <option value="copper">Copper</option>
                <option value="zinc">Sphalerite(Zinc)</option>
                <option value="silver">Silver</option>
                <option value="gold">Gold</option>
                <option value="tin">Cassiterite(Tin)</option>
            </select>

            <label for="subtype4">Select Subtype:</label>
            <select id="subtype4">
                <!-- Subtype options will be populated based on the ore selected -->
            </select>

            <input type="number" id="qty4" placeholder="Enter quantity">
        </div>

    </div>

    <div class="results">
        <p id="calculationDetails">Calculation details will appear here.</p>
        <p id="result">Result will appear here.</p>
        <p id="ingotCount">Ingot count will appear here.</p>
    </div>
</section>

<section id="video">
    <h2>Video Tutorial On How To Make Bronze And Other Types Of Bronze</h2>
    <p>Here is a short youtube video to help learn how to make Bronze and other alloys.</p>
    <iframe src="https://www.youtube.com/embed/iJSaqcVY5sM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</section>

<footer>
    <p>Visit the <a href="https://1710-wiki.terrafirmacraft.com/Main_Page">official Terrafirmacraft wiki</a> for more info!</p>
</footer>

<script>
// Ore subtype data
const oreSubtypes = {
    copper: [
        { text: 'Small Copper (16mb)', value: '16' },
        { text: 'Poor Copper (24mb)', value: '24' },
        { text: 'Raw Copper (36mb)', value: '36' },
        { text: 'Rich Copper (48mb)', value: '48' },
        { text: 'Copper Dust (144mb)', value: '144' }
    ],
    tin: [
        { text: 'Small Cassiterite (16mb)', value: '16' },
        { text: 'Poor Cassiterite (48mb)', value: '48' },
        { text: 'Raw Cassiterite (72mb)', value: '72' },
        { text: 'Rich Cassiterite (96mb)', value: '96' },
        { text: 'Cassiterite Dust (288mb)', value: '288' }
    ],
    zinc: [
        { text: 'Small Sphalerite (16mb)', value: '16' },
        { text: 'Poor Sphalerite (21mb)', value: '21' },
        { text: 'Raw Sphalerite (31mb)', value: '31' },
        { text: 'Rich Sphalerite (42mb)', value: '42' },
        { text: 'Crushed Sphalerite (72mb)', value: '72' },
        { text: 'Purified Sphalerite (90mb)', value: '90' }
    ],
    silver: [
        { text: 'Small Silver (16mb)', value: '16' },
        { text: 'Poor Silver (24mb)', value: '24' },
        { text: 'Raw Silver (36mb)', value: '36' },
        { text: 'Rich Silver (48mb)', value: '48' },
        { text: 'Crushed Silver (80mb)', value: '80' },
        { text: 'Purified Silver (100mb)', value: '100' }
    ],
    gold: [
        { text: 'Small Gold (16mb)', value: '16' },
        { text: 'Poor Gold (24mb)', value: '24' },
        { text: 'Raw Gold (36mb)', value: '36' },
        { text: 'Rich Gold (48mb)', value: '48' },
        { text: 'Crushed Gold (80mb)', value: '80' },
        { text: 'Purified Gold (100mb)', value: '100' }
    ]
};

function updateSubtypes(slot) {
    const oreType = document.getElementById(`oreType${slot}`).value;
    const subtypeSelect = document.getElementById(`subtype${slot}`);
    subtypeSelect.innerHTML = '';
    if (oreSubtypes[oreType]) {
        oreSubtypes[oreType].forEach(subtype => {
            const option = document.createElement('option');
            option.value = subtype.value;
            option.text = subtype.text;
            subtypeSelect.appendChild(option);
        });
    }
}

function checkAlloy(copperPercentage, tinPercentage, zincPercentage, goldPercentage, silverPercentage) {
    if (copperPercentage >= 88 && copperPercentage <= 92 && tinPercentage >= 8 && tinPercentage <= 12) {
        return "You made Bronze!";
    } else if (copperPercentage >= 88 && copperPercentage <= 92 && zincPercentage >= 8 && zincPercentage <= 12) {
        return "You made Brass!";
    } else if (copperPercentage >= 15 && copperPercentage <= 30 && goldPercentage >= 70 && goldPercentage <= 85) {
        return "You made Rose Gold!";
    } else if (copperPercentage >= 20 && copperPercentage <= 40 && silverPercentage >= 60 && silverPercentage <= 80) {
        return "You made Sterling Silver!";
    }
    return "Alloy percentages are incorrect.";
}

function calculateAlloy() {
    let totalVolume = 0;
    let oreData = {};

    
    for (let i = 1; i <= 4; i++) {
        const oreType = document.getElementById(`oreType${i}`).value;
        const subtypeValue = parseFloat(document.getElementById(`subtype${i}`).value);
        const oreQty = parseFloat(document.getElementById(`qty${i}`).value) || 0;

        
        if (oreQty > 16) {
            alert(`Slot ${i} cannot exceed 16 items.`);
            document.getElementById(`qty${i}`).value = 16;
            return;
        }

        if (oreQty < 0) {
            alert(`Slot ${i} cannot go below 0 items.`);
            document.getElementById(`qty${i}`).value = 0;
            return;
        }

        if (oreType !== "none" && !isNaN(subtypeValue)) {
            const oreVolume = subtypeValue * oreQty;

            
            if (oreData[oreType]) {
                oreData[oreType].volume += oreVolume;
                oreData[oreType].slots.push(i);
            } else {
                oreData[oreType] = {
                    volume: oreVolume,
                    slots: [i]
                };
            }

            totalVolume += oreVolume;
        }
    }

    // Display the selected ore and combined values
    let calculationDetails = '';
    for (const oreType in oreData) {
        if (oreData[oreType].volume > 0) {  // Only display non-zero volumes
            const slotsText = oreData[oreType].slots.length > 1 ? `Slots ${oreData[oreType].slots.join(' and ')}` : `Slot ${oreData[oreType].slots[0]}`;
            calculationDetails += `Total ${oreType} selected for ${slotsText}: ${oreData[oreType].volume}mb<br>`;
        }
    }
    document.getElementById("calculationDetails").innerHTML = calculationDetails;

    // Calculate percentages
    const orePercentages = {
        copper: (oreData.copper ? (oreData.copper.volume / totalVolume) * 100 : 0).toFixed(2),
        tin: (oreData.tin ? (oreData.tin.volume / totalVolume) * 100 : 0).toFixed(2),
        zinc: (oreData.zinc ? (oreData.zinc.volume / totalVolume) * 100 : 0).toFixed(2),
        gold: (oreData.gold ? (oreData.gold.volume / totalVolume) * 100 : 0).toFixed(2),
        silver: (oreData.silver ? (oreData.silver.volume / totalVolume) * 100 : 0).toFixed(2)
    };

    // Display percentages only for non-zero ores
    let percentageDetails = '';
    for (const ore in orePercentages) {
        if (orePercentages[ore] > 0) {
            percentageDetails += `${ore.charAt(0).toUpperCase() + ore.slice(1)} Percentage: ${orePercentages[ore]}%<br>`;
        }
    }
    document.getElementById("result").innerHTML = percentageDetails;

    // Determine the alloy based on percentages
    let alloy = 'None';
    if (orePercentages.copper >= 88 && orePercentages.copper <= 92 && orePercentages.tin >= 8 && orePercentages.tin <= 12) {
        alloy = 'Bronze';
    } else if (orePercentages.copper >= 88 && orePercentages.copper <= 92 && orePercentages.zinc >= 8 && orePercentages.zinc <= 12) {
        alloy = 'Brass';
    } else if (orePercentages.copper >= 15 && orePercentages.copper <= 30 && orePercentages.gold >= 70 && orePercentages.gold <= 85) {
        alloy = 'Rose Gold';
    } else if (orePercentages.copper >= 20 && orePercentages.copper <= 40 && orePercentages.silver >= 60 && orePercentages.silver <= 80) {
        alloy = 'Sterling Silver';
    }

    document.getElementById("result").innerHTML += `<br>The alloy being made is: ${alloy}.`;

    const ingotVolume = 144; // 144mb is 1 ingot
    const totalIngots = Math.floor(totalVolume / ingotVolume);
    const remainder = totalVolume % ingotVolume;

    document.getElementById("ingotCount").innerHTML = `You can make ${totalIngots} ingots and have ${remainder}mb left over.`;
}

document.querySelectorAll('select, input').forEach(element => {
    element.addEventListener('input', calculateAlloy);
});
</script>

</body>
</html>